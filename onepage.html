<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		.clearfix{
			content: "";
            display: block;
            clear: both;
		}
		.output{
			width: 500px;
			height: 200px;
			border:1px #000 solid;
			margin: 0 auto;
			position: relative;
		}
		.inputtext{
			margin: 10px auto;
			width: 300px;
			line-height: 18px;
			display: block;
			height: 18px;
		}
		.btnbox{
			margin: 0 auto;
			width: 200px;
			text-align: center;
		}
		
	</style>
</head>
<body>
	<form>
		<div class = "output" id="output"></div>
		<input class="inputtext" id="inputtext" type="text" placeholder="输入弹幕">
		<div class="btnbox clearfix">
			<input type="button" class="inputbtn" onclick = "input()" value="发射">
		    <input type="button" class="clearbtn" onclick = "clean()" value="清屏">
		</div>
	    
	</form>
</body>
<script type="text/javascript">
	function input(){
		var text = document.getElementById("inputtext").value;
		var out = document.getElementById("output");
		// out.css("position:relation");
		out.style.cssText = "position:relative";
		// for (var i = 0; i <= 5; i++) {
			var num = Math.floor(Math.random()*185 - 2) ;
			num = num + 'px';
			var ri = 10;
			var s = document.createElement("span");
			out.appendChild(s);
			var r = Math.floor(Math.random()*225);
			var g = Math.floor(Math.random()*225);
			var b = Math.floor(Math.random()*225);
			// 生成的弹幕的样式
			s.className = "text-in-span";
			s.innerHTML = text;
			s.style.cssText = "position:absolute;right:10px;";		
			s.style.top = num;
			s.style.color = "blue";
			// s.style.color = "rbg(r,g,b);"   使用XX.style.XX的时候，必须赋字符串，而字符串中无法使用变量
			setInterval(function () {ri=scroll(s,ri);},20);	
		// }			
	}
	function scroll(s,r) {
		r++;
		s.style.right = r +'px';
		// if (r == 500) {clearInterval(null);}
		return r;
	}
</script>
</html>